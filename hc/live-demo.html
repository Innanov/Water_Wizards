<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Live Demo â€¢ Water Wizards</title>

  <!-- Bootstrap + D3 -->
  <link  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <style>
    /* Dark theme */
    body{background:#000;color:#fff}  h2,h5{color:#fff}

    /* Map + hover label */
    #map-container{max-width:960px;position:relative}
    #uae-map{width:100%;height:auto}
    #label-overlay{position:absolute;display:none;background:rgba(0,0,0,.8);color:#fff;
      padding:4px 8px;border-radius:4px;font-size:.85rem;pointer-events:none;z-index:10}

    /* Modal & SVG */
    #water-network{width:100%;height:70vh}
    .legend{background:#111;color:#eee;font-size:.8rem;display:flex;gap:14px;flex-wrap:wrap;
            padding:6px 10px;border-top:1px solid #333}
    .box{width:14px;height:14px;border-radius:2px;margin-right:6px}
    .node-label{font:11px sans-serif;pointer-events:none;fill:#eee;
                paint-order:stroke;stroke:#000;stroke-width:3px;stroke-opacity:.35}
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
    <div class="container">
      <a class="navbar-brand fw-bold d-flex align-items-center" href="index.html">
        <img src="Images/logo_2.PNG" alt="Logo" style="height: 40px; width: auto; margin-right: 10px;">
        Water Wizards
      </a>
      <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link"          href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link"          href="live-demo.html">Live Demo</a></li>
          <li class="nav-item"><a class="nav-link"          href="dashboards.html">Dashboards</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- MAP -->
  <main class="container py-4 text-center">
    <h2 class="mb-4">Real-Time Emirate Contamination Monitor</h2>
    <div id="map-container" class="mx-auto">
      <object id="uae-map" type="image/svg+xml" data="ae.svg"></object>
      <div id="label-overlay"></div>
    </div>
    <p id="info" class="fw-bold mt-3">Hover or click on an emirate</p>
  </main>

  <!-- MODAL -->
  <div class="modal fade" id="networkModal" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
      <div class="modal-content bg-dark text-light border-0">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="networkModalLabel">Water Network</h5>
          <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body p-0">
          <svg id="water-network"></svg>
          <!-- <div class="legend">
            <div><span class="box" style="background:#4682B4"></span>Desalination</div>
            <div><span class="box" style="background:#6B8E23"></span>Storage</div>
            <div><span class="box" style="background:#CD853F"></span>Distribution</div>
            <div><span class="box" style="background:#20B2AA"></span>Freshwater</div>
            <div><span class="box" style="background:#8A2BE2"></span>Industrial</div>
          </div> -->
        </div>

        <div class="modal-footer border-0">
          <button id="run-btn" class="btn btn-primary btn-sm">
            Run (highlight sensor nodes)
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- LIBS & DATA -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="mapdata.js"></script>
  <script src="network-data.js"></script>   <!-- your emirate networks -->
  <script src="map-interaction.js"></script>
</body>
</html>
